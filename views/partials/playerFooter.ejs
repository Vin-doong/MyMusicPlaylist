<footer>
  <!-- CSS 파일 포함 -->
  <link rel="stylesheet" href="/css/playerFooter.css"> <!-- playerFooter.css 포함 -->

  <div class="spotify-player bg-light py-3">
    <!-- 현재 재생 곡 정보 -->
    <div class="container d-flex flex-column align-items-center">
      <div id="now-playing-info" class="text-center mb-3">
        <strong id="track-name" class="d-block">재생 중인 곡 없음</strong>
        <small id="track-artist">아티스트 정보 없음</small>
      </div>

      <!-- 컨트롤 버튼과 볼륨 조절 -->
      <div class="d-flex justify-content-between align-items-center w-100 px-4">
        <!-- 컨트롤 버튼 -->
        <div class="d-flex justify-content-center">
          <button id="prev-btn" class="btn btn-outline-secondary mx-2">⏮ 이전</button>
          <button id="play-btn" class="btn btn-primary mx-2">▶ 재생</button>
          <button id="pause-btn" class="btn btn-warning mx-2">⏸ 일시정지</button>
          <button id="next-btn" class="btn btn-outline-secondary mx-2">⏭ 다음</button>
        </div>

        <!-- 볼륨 조절 -->
        <div class="range d-flex align-items-center">
          <span id="volume-label" class="me-2">🔉</span> <!-- 초기 아이콘 -->
          <input
            type="range"
            id="volume-slider"
            min="0"
            max="100"
            value="50"
            class="volume-slider ms-3"
          />
        </div>
      </div>

      <!-- 재생목록 관리 -->
      <div class="mt-4 w-100">
        <h5>재생목록 관리</h5>
        <button id="fetch-playlists-btn" class="btn btn-info w-100 mb-3">재생목록 가져오기</button>
        <ul id="playlists" class="list-group"></ul>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="https://sdk.scdn.co/spotify-player.js"></script>
  <script src="/js/spotify-player.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // 볼륨 슬라이더 엘리먼트 선택
      const volumeSlider = document.getElementById('volume-slider');

      if (volumeSlider) {
        // 슬라이더 클릭 시 focus 유지
        volumeSlider.addEventListener('mousedown', () => {
          volumeSlider.focus(); // 포커스를 설정
        });

        // 마우스 버튼을 뗄 때 focus 해제
        volumeSlider.addEventListener('mouseup', () => {
          volumeSlider.blur(); // 포커스를 해제
        });

        // 키보드 사용 시 focus 유지
        volumeSlider.addEventListener('keydown', () => {
          volumeSlider.focus(); // 키보드 사용 시 포커스를 유지
        });

        // 키보드 조작 후 focus 해제
        volumeSlider.addEventListener('keyup', () => {
          volumeSlider.blur(); // 키보드 사용 후 포커스를 해제
        });
      }
    });
  </script>

  <!-- Bootstrap Icons -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.js"></script>
</footer>
